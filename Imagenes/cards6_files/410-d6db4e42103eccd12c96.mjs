(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[410],{"3ByC":function(e,o,n){var i=n("iYS+"),t=n("qD10"),a=n("n6mq"),r=n("nKUr");o.a=({bold:e,description:o,descriptionColor:n,external:s,icon:c,onClick:d,text:l,url:p})=>{const m=Object(r.jsx)(a.f,{role:"listitem",overflow:"hidden",children:Object(r.jsx)(i.a,{bold:e,description:o,descriptionColor:n,icon:c,text:l})});return Object(r.jsx)(a.f,{children:p?Object(r.jsx)(t.a,{to:p,external:s,onClick:d,children:m}):Object(r.jsx)(a.bb,{fullWidth:!1,onTap:d,children:m})})}},"6wCo":function(e,o,n){n.r(o);var i=n("JW66"),t=n("ENn1"),a=n("ynlw"),r=n("Hrat"),s=n("q1tI"),c=n("/MKj"),d=n("Nle8"),l=n("Ye/N"),p=n("TgLd"),m=n("GBVV"),b=n("4cpq"),u=n("M1Uz"),h=n("eOdZ");var g=n("U4JR"),j=n("nGHF"),w=n("n6mq"),f=n("nKUr");var O=Object(c.connect)(null,e=>({deletePinSponsorship:o=>e(function(e){return async o=>{await h.a.create("SponsoredPinResource",{pinId:e}).callDelete(),o(function(e){return{type:"DELETE_PIN_SPONSORSHIP",payload:{pinId:e}}}(e))}}(o))}))((function({deletePinSponsorship:e,onDeletePinSponsorship:o,onDismiss:n,pinId:i}){const{showOneToast:t}=Object(j.b)(),[a,r]=Object(s.useState)(!1),c=e=>{r(!1),Object(g.b)(101,{view:3,element:12114,component:230,pin_id:i}),t(({onHide:o})=>Object(f.jsx)(u.a,{onHide:o,text:e?l.a._("Something went wrong!","closeup.pinActionDropdown.toastAfterDeletingHasErrors","Pinterest ran into errors while deleting paid sponsorship"):l.a._("Removed!","closeup.pinActionDropdown.toastAfterDeleting","User deleted their paid partnership")}))};return Object(f.jsx)(p.b,{heading:l.a._("Remove paid partnership?","closeup.pinActionDropdown.deletePinSponsorshipModalHeading","Heading for modal that confirms user wants to delete their partnership"),accessibilityModalLabel:l.a._("Remove paid partnership?","closeup.pinActionDropdown.deletePinSponsorshipModalHeadingLabel","Heading for modal that confirms user wants to delete their partnership"),size:"sm",onDismiss:n,footer:Object(f.jsxs)(w.f,{display:"flex",justifyContent:"center",marginStart:-1,marginEnd:-1,children:[Object(f.jsx)(w.f,{paddingX:1,children:Object(f.jsx)(w.g,{onClick:n,text:l.a._("Cancel","closeup.pinActionDropdown.deletePinSponsorshipModalCancel","Button label for closing sponsorship removal modal")})}),Object(f.jsx)(w.f,{paddingX:1,children:Object(f.jsx)(b.a,{id:"confirm-delete-pin-sponsorship",children:Object(f.jsx)(m.b,{color:"red",onClick:()=>{(async()=>{if(!a){r(!0);try{await e(i),o(),c()}catch(n){o(),c(n)}}})()},text:l.a._("Remove","closeup.pinActionDropdown.deletePinSponsorshipModalConfirmButton","Button label for removing sponsorship"),submitting:a})})})]}),children:Object(f.jsx)(w.f,{padding:4,children:Object(f.jsx)(w.cb,{align:"center",children:l.a._("This will remove the paid partnership disclosure on this Pin—if you change your mind you’ll have to start again! This won’t delete the Pin or affect who sees it.","closeup.pinActionDropdown.deletePinSponsorshipDescription","Text description for modal that confirms user wants to delete their sponsorship")})})})})),x=n("5S2N"),_=n("kmwA");function y(e){const{onDismiss:o,myPin:n}=e,[i,t]=Object(s.useState)(1),a=[{label:l.a._("Small","pinActionDropdown.GetEmbedCodeModal.small","Label on segmented controller for pin embed code, for small width"),width:236},{label:l.a._("Medium","pinActionDropdown.GetEmbedCodeModal.medium","Label on segmented controller for pin embed code, for medium width"),width:345},{label:l.a._("Large","pinActionDropdown.GetEmbedCodeModal.large","Label on segmented controller for pin embed code, for large width"),width:450},{label:l.a._("Extra Large","pinActionDropdown.GetEmbedCodeModal.extra_large","Label on segmented controller for pin embed code, for extra-large width"),width:600}];return Object(f.jsx)(w.z,{children:Object(f.jsxs)(p.b,{accessibilityModalLabel:l.a._("Get Embed Code","pinActionDropdown.GetEmbedCodeModal.modalLabel","Accessibility label on modal for pin embed code"),heading:l.a._("Get Embed Code","pinActionDropdown.GetEmbedCodeModal.header","Heading on modal for pin embed code"),onDismiss:o,footer:Object(f.jsx)(w.f,{display:"flex",direction:"row",justifyContent:"end",children:Object(f.jsx)(w.g,{size:"sm",text:l.a._("Got it!","pinActionDropdown.GetEmbedCodeModal.dismissButton","Button to dismiss embed code modal"),onClick:o})}),children:[Object(f.jsx)(w.f,{paddingX:6,paddingY:4,children:Object(f.jsx)(w.R,{items:a.map(e=>e.label),selectedItemIndex:i,onChange:({activeIndex:e})=>{t(e)}})}),Object(f.jsx)(w.f,{paddingX:8,paddingY:6,children:Object(f.jsx)("code",{children:`<iframe src="${_.a.settings.ASSETS_SITE_URL}/ext/embed.html?id=${n.id}" height="${Math.ceil(n.height*a[i].width/n.width+100)}" width="${a[i].width}" frameborder="0" scrolling="no" ></iframe>`})})]})})}var v=n("Xuu2"),P=n("gTC0"),D=n("3ByC"),S=n("E/VT"),C=n("7w6Q");const A=()=>C.a.increment("windows.download.blob.error"),R=(e,o,n)=>{const i=new window.Windows.Storage.Pickers.FileSavePicker;i.suggestedStartLocation=window.Windows.Storage.Pickers.PickerLocationId.picturesLibrary;const{extension:t,extensionName:a,name:r}=(e=>{const o=e.split("/"),n=o[o.length-1],i=n.split(".");if(i.length>1){const e=i.pop();return{extension:"."+e,extensionName:e.toUpperCase(),name:i.join()}}return{extension:".",extensionName:l.a._("Unknown","Label for file picker drop down when the file type is not known","Label for file picker drop down when the file type is not known"),name:n}})(o);i.suggestedFileName=n||r,i.fileTypeChoices.insert(a,[t]),i.pickSaveFileAsync().then(o=>{o&&(window.Windows.Storage.CachedFileManager.deferUpdates(o),o.openAsync(window.Windows.Storage.FileAccessMode.readWrite).then(o=>{const n=e.msDetachStream();window.Windows.Storage.Streams.RandomAccessStream.copyAsync(n,o).then(()=>{o.flushAsync().done(()=>{n.close(),o.close(),C.a.increment("windows.download.blob.success")},A)},A)},A))})};var T=({filename:e,imgSrc:o,category:n})=>{if(!o)return null;return Object(f.jsx)(D.a,{onClick:()=>{((e,o)=>{try{const n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onreadystatechange=()=>{if(4===n.readyState)if(200!==n.status)C.a.increment("windows.download.blob.nodownload",.1,{status:n.status});else{const i=n.response;R(i,e,o)}},n.send(null)}catch(n){C.a.increment("windows.download.blob.xhrexception",.1,{error:n})}})(o,e)},text:l.a._("Download image","Button to download Pin image","Button to download Pin image")})},k=n("ESls"),E=n("gSZa"),L=n("hFNL"),I=n("LT60"),M=n("eUcp");function H({anchor:e,bestPinImgSrc:o,closeDropdown:n,feedbackData:i,feedbackType:t,handleEditPinClick:a,handleAllowComments:r,handleHidePinClick:s,handleHideReasonSelected:c,handleReportPin:d,hideDownload:p,isFullAuth:m,isHideReasonsVisible:u,isOwnPin:h,pinCategory:g,pinDescription:j,pinId:O,pinImgSrc:x,pinTitle:_,pinCommentsDisabled:y,recommendationReason:v,showEditPin:P,showEmbed:C,showLoginForMore:A,showRemoveMention:R,showRemoveSponsorship:H,toggleDeletePinSponsorshipModal:B,toggleEmbed:N,toggleRemoveMention:z,usePortal:F,showRemoveProductTags:G,toggleRemoveTags:U}){const X=Object(f.jsx)(w.f,{zIndex:M.a,children:Object(f.jsx)(w.L,{anchor:e.current,idealDirection:"down",onDismiss:n,size:"xs",children:u?Object(f.jsx)(E.a,{feedbackData:i,feedbackType:t,pinId:O,onHide:c,recommendationReason:v,viewParameter:156,viewType:3}):Object(f.jsxs)(w.f,{width:"100%",role:"list",children:[P&&Object(f.jsx)(b.a,{id:"pin-action-dropdown-edit-pin",children:Object(f.jsx)(D.a,{onClick:a,text:l.a._("Edit Pin","closeup.pinActionDropDown.editPin","Button allowing user to edit their Pin")})}),Object(f.jsx)(k.a,{name:"web_story_pin_publish_comments_permissions",children:({anyEnabled:e})=>e&&Object(f.jsxs)(w.f,{paddingY:2,paddingX:4,display:"flex",alignItems:"center",children:[Object(f.jsx)(w.y,{htmlFor:"CommentSwitch",children:Object(f.jsx)(w.cb,{size:"md",color:"darkGray",weight:"bold",children:l.a._("Allow comments","Label for toggling comments on pin action dropdown","Label for toggling comments on pin action dropdown")})}),Object(f.jsx)(w.X,{onChange:e=>r(e.value),id:"CommentSwitch",switched:!y})]})}),!p&&"undefined"!=typeof window&&"windows"!==Object(L.b)(window)&&o&&Object(f.jsx)(b.a,{id:"pin-action-dropdown-download",children:Object(f.jsx)(S.a,{imgSrc:o||"",filename:_||j,category:g,pinId:O,children:e=>Object(f.jsx)(D.a,{onClick:e,text:l.a._("Download image","Button to download Pin image","Button to download Pin image")})})}),!p&&"undefined"!=typeof window&&"windows"===Object(L.b)(window)&&(o||x)&&Object(f.jsx)(b.a,{id:"pin-action-dropdown-download",children:Object(f.jsx)(T,{imgSrc:o||x||"",filename:_||j,category:g})}),H&&Object(f.jsx)(D.a,{onClick:B,text:l.a._("Remove partnership","closeup.pinActionDropDown.removePartnership","Label to allow removing an existing partnership")}),!h&&Object(f.jsx)(b.a,{id:"pin-action-dropdown-hide",children:Object(f.jsx)(D.a,{onClick:m?s:A,text:l.a._("Hide Pin","closeup.pinActionDropDown.hide","Label for hide pin action")})}),Object(f.jsx)(b.a,{id:"pin-action-dropdown-report",children:Object(f.jsx)(D.a,{onClick:m?d:A,text:l.a._("Report Pin","Label for report pin action","Label for report pin action")})}),R&&Object(f.jsx)(D.a,{onClick:z,text:l.a._("Remove @mention","closeup.pinActionDropDown.removeMention","Button that allows user to remove their @mention in the pin's")}),C&&Object(f.jsx)(k.a,{name:"closeup_pin_embed_code",children:({anyEnabled:e})=>e&&Object(f.jsx)(b.a,{id:"pin-action-dropdown-embed",children:Object(f.jsx)(D.a,{onClick:N,text:l.a._("Get Pin embed code","Label for embed pin action","Label for embed pin action")})})}),G&&Object(f.jsx)(D.a,{onClick:U,text:l.a._("Remove your products","storyPinCloseup.PinActionDropdown.RemoveYourProducts","Label for remove product tags")})]})})});return F?Object(f.jsx)(I.a,{children:Object(f.jsx)(w.z,{children:X})}):X}function B(e){const{onConfirm:o,onDismiss:n}=e;return Object(f.jsx)(w.z,{children:Object(f.jsx)(p.b,{accessibilityModalLabel:l.a._("Remove your products","pinActionDropdown.RemoveProductTags.modalLabel","Accessibility label on modal for pin remove product tags"),heading:l.a._("Remove your products","pinActionDropdown.RemoveProductTags.header","Heading on modal for pin remove product tags"),onDismiss:n,footer:Object(f.jsxs)(w.f,{display:"flex",direction:"row",justifyContent:"center",children:[Object(f.jsx)(w.f,{paddingX:1,children:Object(f.jsx)(w.g,{inline:!0,onClick:n,size:"lg",text:l.a._("Cancel","pinActionDropdown.RemoveProductTags.dismissButton","Button to dismiss remove product tags modal")})}),Object(f.jsx)(w.f,{paddingX:1,children:Object(f.jsx)(w.g,{color:"red",inline:!0,onClick:o,size:"lg",text:l.a._("Remove","pinActionDropdown.RemoveProductTags.confirmButton","Button to confirm remove product tags modal")})})]}),children:Object(f.jsx)(w.f,{marginBottom:4,paddingX:8,children:Object(f.jsx)(w.cb,{align:"center",children:l.a._("Tags in this Story Pin will no longer link to your products.","pinActionDropdown.RemoveProductTags.Description","Description on modal to confirm remove product tags")})})})})}var N=n("IJsR"),z=n("c4Fo"),F=n("AAEI"),G=n("2qKt");const U=1000353;var X=Object(G.a)(U)((function({onDismiss:e}){const o=Object(F.a)(U),n=Object(s.useRef)(0);return Object(s.useEffect)(()=>{1===n.current&&(o.experienceForPlacement?Object(g.b)(13,{view:500,viewParameter:157}):e()),n.current+=1},[o,e]),Object(f.jsx)(z.a,{placementId:U,experienceIds:[503316],children:({complete:o,dismiss:n})=>Object(f.jsx)(w.z,{children:Object(f.jsx)(p.b,{accessibilityModalLabel:l.a._("Changes to Publishing","closeup.pinActionDropDown.editPin.storyPinModal","Heading describing edit story pin limitations after publishing"),heading:l.a._("Changes to Publishing","closeup.pinActionDropDown.editPin.storyPinModal","Heading describing edit story pin limitations after publishing"),onDismiss:()=>{e(),n()},footer:Object(f.jsxs)(w.f,{display:"flex",justifyContent:"center",children:[Object(f.jsx)(w.f,{flex:"grow"}),Object(f.jsx)(w.f,{flex:"none",children:Object(f.jsx)(w.g,{size:"lg",color:"red",text:l.a._("Continue Editing","closeup.pinActionDropDown.editPin.storyPinModal","Text describing edit story pin limitations after publishing"),onClick:()=>{o(),Object(g.b)(101,{view:500,viewParameter:157,element:12019}),e()}})}),Object(f.jsx)(w.f,{flex:"grow"})]}),role:"alertdialog",size:"sm",children:Object(f.jsx)(w.f,{paddingX:8,children:Object(f.jsx)(w.cb,{align:"center",children:l.a._("Only changes to board selection and engagement settings are allowed after publishing","closeup.pinActionDropDown.editPin.storyPinModal","Text describing edit story pin limitations after publishing")})})})})})})),q=n("Sp3T"),W=n("v/Q4"),V=n("eqXv"),K=n("CONZ"),Y=n("vvax"),J=n("5+ob"),$=n("QAzJ"),Q=n("aOj9"),Z=n("1Fta"),ee=n("DJoW");function oe({bestPinImgSrc:e,carouselSlotCurrentIndex:o,embedImg:n,goBack:i,hideDownload:t,iconColor:a,isStoryPin:r,onDropdownClick:p,onEditSubmit:m,onReportPin:b,onToggle:_,pinCategory:D,pinDescription:S,pinId:C,pinImgSrc:A,pinTitle:R,pinCommentsDisabled:T,reportPin:k,showEditPin:E,showEmbed:L,showRemoveMention:I,showRemoveSponsorship:M,usePortal:z,viewParameter:F}){const{showOneToast:G}=Object(j.b)(),[U,oe]=Object(s.useState)(!1),[ne,ie]=Object(s.useState)(!1),[te,ae]=Object(s.useState)(!1),[re,se]=Object(s.useState)(!1),[ce,de]=Object(s.useState)(!1),[le,pe]=Object(s.useState)(!1),[me,be]=Object(s.useState)(!1),[ue,he]=Object(s.useState)(!1),[ge,je]=Object(s.useState)(!1),[we,fe]=Object(s.useState)([]),[Oe,xe]=Object(s.useState)(!!T),_e=Object(c.useSelector)(({pins:e})=>e[C]),ye=Object(c.useSelector)(({resources:e})=>e),ve=Object(c.useDispatch)(),Pe=Object(W.a)(),De=Object(Q.e)(),Se=Object(s.useRef)(),Ce=Object(q.a)(),Ae=Pe.isAuth&&!Pe.isLimitedLogin,Re=e=>ve(Object(ee.c)(e));Object(s.useEffect)(()=>{if(ye.data.StoryPinTaggedProductsResource){const n=Object.values(ye.data.StoryPinTaggedProductsResource)[1];if("object"==typeof n&&Array.isArray(null==n?void 0:n.data)){var e,o;const i=n.data,t=[];null===(e=_e.story_pin_data)||void 0===e||null===(o=e.pages)||void 0===o||o.forEach(({blocks:e})=>{null==e||e.forEach(e=>{if("story_pin_product_sticker_block"===e.type&&!e.is_removed){var o,n;const a=i.find(o=>o.id===e.pin_id);a&&(null===(o=a.link_domain)||void 0===o||null===(n=o.official_user)||void 0===n?void 0:n.id)===Pe.id&&t.push(a)}})}),fe(t),t.length>0&&je(!0)}}},[ye.data,_e.story_pin_data,Pe]);const Te=()=>{oe(!1),ie(!1)},ke=e=>{Object(g.b)(101,{element:e,component:4,view:3,viewParameter:F})},Ee=()=>{Te(),be(!me)},Le=()=>{Te(),de(!ce)},Ie=()=>{Te(),Ce(()=>{Object(g.b)(101,{element:3,viewParameterType:F,viewType:3}),ae(!te)})},Me=()=>{re||Object(g.b)(4439,{view:3,viewParameter:156}),oe(!1),se(!re)},He=Object(Z.a)({i18n:l.a,interpolateNamedTemplate:Y.b}),Be=l.a._("More options","Accessible label for more options dropdown","Accessible label for more options dropdown"),Ne=void 0,{recommendation_reason:ze,pinner:Fe}=_e,Ge=Object(v.a)({feedbackOptions:Ne,pin:_e,viewParameter:156}),{data:Ue}={},Xe=ze&&ze.reason&&J.ReasonToChoose[ze.reason],qe=ze&&Object(Z.d)(ze),We=ze&&Object(Z.e)(ze),Ve=Boolean(Pe.isAuth&&Fe&&Fe.id===Pe.id),{action:Ke,actionOptions:Ye}=He.getHidePinAction({feedbackData:Ue,feedbackType:Ge,pinId:C,recommendationReasonId:Xe,pinFeedbackType:"pfy"===Ge?4:10,throughId:qe,throughProperties:We,clientTrackingParams:Object(d.a)(C)}),Je=()=>{ie(!0);const e={title:"",subTitle:l.a._("Got it! We won't show you this Pin in the future.","pinActionDropdown.hidePin.confirmation","message displayed after hiding a pin")};var o,n,i;Ye&&Ke?(o=C,n=e,i=Object(Z.b)(Ye,Ke,C,3,F,Re,g.b),ve(Object(ee.g)(o,n,i))):((e,o)=>{ve(Object(ee.a)(e,o))})(C,e)},{anyEnabled:$e}=Object($.a)("web_story_pin_edit_deprecation"),{anyEnabled:Qe}=Object($.a)("web_sp2s");return Object(f.jsxs)(w.f,{flex:"grow",alignItems:"center",display:"flex",children:[Object(f.jsx)(w.f,{ref:Se,children:Object(f.jsx)(P.a,{accessibilityLabel:Be,icon:"ellipsis",onClick:()=>{_&&_(),"function"==typeof p&&p(),oe(!U),ke(981)},color:a})}),U&&Object(f.jsx)(H,{anchor:Se,bestPinImgSrc:e,closeDropdown:Te,feedbackData:Ue,feedbackType:Ge,handleEditPinClick:()=>{$e&&r?pe(!0):Ie()},handleAllowComments:e=>{const o={id:C,disable_comments:!e,disable_did_it:!e};h.a.create("PinResource",o).callUpdate(),xe(!e)},handleHidePinClick:()=>{ke(982),Object(V.a)(Ke,Ye,Je)},handleHideReasonSelected:()=>{i&&i()},handleReportPin:()=>{"function"==typeof b&&b(C),k()},hideDownload:Boolean(t),isFullAuth:Ae,isHideReasonsVisible:ne,isOwnPin:Ve,pinCategory:D,pinDescription:null!=S?S:"",pinId:C,pinImgSrc:null!=A?A:"",pinTitle:null!=R?R:"",pinCommentsDisabled:Oe,recommendationReason:ze,showEditPin:E,showEmbed:L,showLoginForMore:De,showRemoveMention:I,showRemoveSponsorship:M,toggleDeletePinSponsorshipModal:Le,toggleEmbed:Me,toggleRemoveMention:Ee,usePortal:z,showRemoveProductTags:ge,toggleRemoveTags:()=>{oe(!1),he(!ue)}}),re&&Object(f.jsx)(y,{myPin:{id:C,height:n.height,width:n.width},onDismiss:Me}),ce&&Object(f.jsx)(O,{onDeletePinSponsorship:Le,onDismiss:Le,pinId:C}),le&&Object(f.jsx)(X,{onDismiss:()=>{pe(!1),Ie()}}),me&&Object(f.jsx)(N.a,{confirmText:l.a._("Remove","closeup.pinActionDropDown.removeMention.modal","Label for button to confirm removal of the user @mention tag"),dismissText:l.a._("Cancel","closeup.pinActionDropDown.removeMention.modal","Label for button to cancel removal of the user @mention tag"),heading:l.a._("Remove @mention","closeup.pinActionDropDown.removeMention.modal","Heading for confirming user @mention tag removal"),accessibilityLabel:Qe?l.a._("Remove @mention tag from Idea Pin","closeup.pinActionDropDown.removeMention.modal","Accessibility label for modal removing @mention tag from Idea Pin"):l.a._("Remove @mention tag from Story Pin","closeup.pinActionDropDown.removeMention.modal","Accessibility label for modal removing @mention tag from Story Pin"),onConfirm:()=>{be(!1),Pe.isAuth&&(((e,o)=>{ve(Object(K.b)(e,o))})(C,Pe.id),Object(g.b)(8909,{view:3,viewParameter:157})),Te(),G(({onHide:e})=>Object(f.jsx)(u.a,{onHide:e,text:l.a._("@mention removed!","closeup.pinActionDropDown.mentionRemovalToast","Toast that tells user that they have successfully removed the @mention of them in another user's Pin description")}))},onDismiss:Ee,promptText:Qe?l.a._("Tags in this Idea Pin will no longer link to your profile.","closeup.pinActionDropDown.removeMention.modal","Description for modal removing @mention tag from Idea Pin"):l.a._("Tags in this Story Pin will no longer link to your profile.","closeup.pinActionDropDown.removeMention.modal","Description for modal removing @mention tag from Story Pin")}),te&&Object(f.jsx)(x.a,{carouselSlotCurrentIndex:o,onHide:()=>{ae(!1)},onSubmit:m,pinId:C}),ue&&Object(f.jsx)(B,{onConfirm:()=>{(async()=>{he(!1),await h.a.create("ApiResource",{url:`v3/storypins/${C}/products/`}).callDelete().then(()=>{we.map(e=>e.id);he(!1),G(({onHide:e})=>Object(f.jsx)(u.a,{onHide:e,text:l.a._("Product tags removed!","closeup.pinActionDropDown.productTagsRemoved","Toast that tells user that products tags were removed")}))})})()},onDismiss:()=>he(!1)})]})}var ne=n("OSge"),ie=n("YxyV"),te=n("7jH2");o.default=({carouselSlotCurrentIndex:e,iconColor:o,goBack:n,onDropdownClick:s,onEditSubmit:c,onReportPin:d,pin:l,showEditPin:p=!1,viewParameter:m})=>{var b,u;const h=Object(W.a)(),{pinTitle:g,pinDescription:j,pinCategory:O}=Object(r.a)(l),x=Object(te.q)({pin:l}),{video:_}=Object(te.y)(x)||{},y=!!_||!!Object(te.j)(x);let v;l.images&&(v=l.embed&&"gif"===l.embed.type?l.embed.src:l.images["736x"]&&l.images["736x"].url);const P=!!l.story_pin_data_id,D=Object(ie.d)(l),{isPromoted:S}=Object(a.a)(l),C=l.board.privacy===i.a.BoardPrivacy.SECRET,A=!S&&!C,{anyEnabled:R}=Object($.a)("web_story_pin_at_mentions"),T=R&&h.isAuth&&(null===(b=l.story_pin_data)||void 0===b||null===(u=b.pages)||void 0===u?void 0:u.reduce((e,o)=>{var n;return e||(null===(n=o.blocks)||void 0===n?void 0:n.reduce((e,o)=>e||o.type===ne.a.MENTION_STICKER&&o.user_id===h.id&&!1===o.is_removed,!1))},!1)),{sponsorship:k}=l,{creator:E,sponsor:L}=k||{},I=h.isAuth&&!!k&&[E.username,L.username].includes(h.username);return Object(f.jsx)(w.f,{"data-test-id":"pin-action-bar",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:Object(f.jsx)(oe,{carouselSlotCurrentIndex:e,iconColor:o,isStoryPin:P,embedImg:Object(ie.e)(l,"736x"),showEmbed:A,bestPinImgSrc:D,goBack:n,hideDownload:y||P,onDropdownClick:s,onEditSubmit:c,onReportPin:d,pinCategory:O,pinDescription:j,pinId:l.id,pinImgSrc:v,pinTitle:g,pinCommentsDisabled:l.comments_disabled,reportPin:Object(t.a)({pin:l,viewParameter:m,viewType:3}),showEditPin:p,showRemoveMention:T,showRemoveSponsorship:I,usePortal:!1,viewParameter:m})})}},Hrat:function(e,o,n){var i=n("yaUg"),t=n("Ye/N");o.a=e=>{const o=e.link_domain||{},n=e.tracked_link||e.link||e.images&&e.images.orig&&e.images.orig.url,a=e.rich_metadata,r=e.domain,s=e.closeup_attribution||e.native_creator||o.official_user||e.pinner||e.origin_pinner,c=!(!(a&&a.recipe&&a.recipe.name&&a.recipe.categorized_ingredients)||a.recipe.from_aggregated_data);let d,l;a&&a.products&&a.products[0]&&(d=!!(a&&a.name&&a.offer_summary));const p=d,m=!(!a||!a.article),b=!(!a||!a.tutorial),u=!(!s||!s.username);let h=t.a._("Saved from ","Closeup pin annotation","Closeup pin annotation"),g=u?t.a._("Saved by"):t.a._("Saved from"),j=t.a._("Visit");a&&a.products&&a.products[0]&&a&&a.products[0].name&&a.products[0].offer_summary&&(h=t.a._("Product sold by ","pin annotation","pin annotation"),l=a.products[0].offer_summary),p?(g=t.a._("Sold by"),j=t.a._("Visit")):b?(h=t.a._("Saved from ","pin annotation","pin annotation"),g=u?t.a._("Saved by"):t.a._("Saved from"),j=t.a._("Visit")):c?(h=t.a._("Recipe from ","pin annotation","pin annotation"),g=u?t.a._("Recipe by"):t.a._("Recipe from"),j=t.a._("Make it")):m&&(h=t.a._("Article from ","pin annotation","pin annotation"),g=u?t.a._("Article by"):t.a._("Article from"),j=t.a._("Read it"));const w=e.rich_summary;if(!l&&w){let e;w&&w.products&&w.products[0]&&(e=!!(w&&w.products[0].name&&w.products[0].offer_summary),e&&(h=t.a._("Product sold by ","pin annotation","pin annotation")))}let f,O;u?(f="/"+s.username+"/",O=s.full_name):(f="/source/"+r,O=a&&a.site_name||r);return{actionButtonText:j,image:s&&(s.image_medium_url||s.image_small_url)||e.board&&e.board.image_thumbnail_url,link:f,pinLink:n,pin:e,pinCreditPrefix:h,prefixText:g,subtitle:O,title:Object(i.a)(t.a._("More from {{ subtitle }}"),{subtitle:O}),pinTitle:e.closeup_unified_title,pinDescription:e.closeup_unified_description,pinCategory:e.category}}},IJsR:function(e,o,n){n.d(o,"a",(function(){return r}));var i=n("TgLd"),t=n("n6mq"),a=n("nKUr");function r({confirmText:e,dismissText:o,heading:n,accessibilityLabel:r,onConfirm:s,onDismiss:c,promptText:d}){return Object(a.jsx)(i.b,{accessibilityModalLabel:r,onDismiss:c,size:414,heading:n,children:Object(a.jsxs)(t.f,{padding:4,children:[Object(a.jsx)(t.cb,{align:"center",children:d}),Object(a.jsxs)(t.f,{display:"flex",direction:"row",marginStart:-2,marginEnd:-2,marginTop:12,children:[Object(a.jsx)(t.f,{display:"flex",direction:"row",column:6,paddingX:2,"data-test-id":"modal-dismiss-button",children:Object(a.jsx)(t.g,{color:"gray",text:o,onClick:c})}),Object(a.jsx)(t.f,{column:6,paddingX:2,"data-test-id":"modal-confirm-button",children:Object(a.jsx)(t.g,{color:"red",text:e,onClick:s})})]})]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/410-d6db4e42103eccd12c96.mjs.map